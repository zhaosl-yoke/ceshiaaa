<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title></title>
	<link rel="stylesheet" href="">
	<script type="text/javascript" src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
	 <script src="https://cdn.jsdelivr.net/npm/xgplayer/browser/index.js" charset="utf-8"></script>
    <script src="https://cdn.jsdelivr.net/npm/xgplayer-mp4/browser/index.js" charset="utf-8"></script>
</head>
<body>
	<video style="height:auto;" src="" id="video0" controls="controls"></video>
	<input class="form-control" type="file" style="height:auto;" id="video" name="video"/>
	<div id="mse"></div>
	<script>
		$("#video").change(function(){
			console.log(this.files[0])
             var objUrl = getObjectURL(this.files[0]) ;
             console.log("objUrl = "+objUrl) ;
             if (objUrl) {
             	let player=new Player({
			        id: 'mse',
			        autoplay: true,
			        volume: 0.3,
			        url:objUrl,
			        poster: "//s2.pstatp.com/cdn/expire-1-M/byted-player-videos/1.0.0/poster.jpg",
			        playsinline: true,
			        thumbnail: {
			            pic_num: 44,
			            width: 160,
			            height: 90,
			            col: 10,
			            row: 10,
			            urls: ['//s3.pstatp.com/cdn/expire-1-M/byted-player-videos/1.0.0/xgplayer-demo-thumbnail.jpg'],
			        },
			        height: window.innerHeight,
			        width: window.innerWidth,
			        whitelist: ['']
		      	});
		        $("#video0").attr("src", objUrl) ;
		    }
		}) ;
     	//建立一个可存取到该file的url
     	function getObjectURL(file) {
	        var url = null ;
	        if (window.createObjectURL!=undefined) { // basic
	            url = window.createObjectURL(file) ;
	        } else if (window.URL!=undefined) { // mozilla(firefox)
	            url = window.URL.createObjectURL(file) ;
	        } else if (window.webkitURL!=undefined) { // webkit or chrome
	            url = window.webkitURL.createObjectURL(file) ;
	        }
	        return url ;
    	}




  
	</script>
</body>
</html>