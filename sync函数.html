<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title></title>
	<link rel="stylesheet" href="">
</head>
<body>
	<script type="text/javascript">
		/*setTimeout实现异步*/
		// function withCallback() {
		// 	console.log('start')
		// 	setTimeout(() => {
		// 	    console.log('callback func')
		// 	}, 1000)
		// 	console.log('done')
		// }
		// withCallback();

		/*Promise实现异步*/
		// function withPromise() {
		// 	return new Promise(resolve => {
		// 	    console.log('promise func')
		// 	    resolve()
		// 	})
		// }
		// withPromise()
		// .then(() => console.log('then 1'))
		// .then(() => console.log('then 2'))

		/*async await实现异步*/
		function wait(time, fn) {
			return new Promise(resolve => {
			    setTimeout(() => {
				    console.log('wait:', time)
				    resolve(fn ? fn() : time)
			    }, time)
			})
		}
		async function test() {
    		await wait(500, () => console.log('bar'))
		};
		test();
		console.log('foo')
	</script>
</body>
</html>